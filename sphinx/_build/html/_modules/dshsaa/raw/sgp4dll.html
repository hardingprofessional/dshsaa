

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>dshsaa.raw.sgp4dll &mdash; dshsaa 1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html" class="icon icon-home"> dshsaa
          

          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <!-- Local TOC -->
              <div class="local-toc"></div>
            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">dshsaa</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../index.html">Module code</a> &raquo;</li>
        
      <li>dshsaa.raw.sgp4dll</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <h1>Source code for dshsaa.raw.sgp4dll</h1><div class="highlight"><pre>
<span></span><span class="ch">#! /usr/bin/env python3</span>
<span class="kn">from</span> <span class="nn">dshsaa.raw</span> <span class="kn">import</span> <span class="n">settings</span><span class="p">,</span> <span class="n">exceptions</span>
<span class="kn">import</span> <span class="nn">ctypes</span> <span class="k">as</span> <span class="nn">c</span>
<span class="kn">import</span> <span class="nn">pdb</span>

<span class="n">C_SGP4DLL</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">CDLL</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">LIB_SGP4_NAME</span><span class="p">)</span>

<span class="c1">##Sgp4GetInfo </span>
<span class="n">C_SGP4DLL</span><span class="o">.</span><span class="n">Sgp4GetInfo</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">[</span><span class="n">c</span><span class="o">.</span><span class="n">c_char_p</span><span class="p">]</span>

<div class="viewcode-block" id="Sgp4GetInfo"><a class="viewcode-back" href="../../../dshsaa.raw.html#dshsaa.raw.sgp4dll.Sgp4GetInfo">[docs]</a><span class="k">def</span> <span class="nf">Sgp4GetInfo</span><span class="p">():</span>
	<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">	.. python:function::Sgp4GetInfo</span>
<span class="sd">	</span>
<span class="sd">	Returns information about the current version of Sgp4Prop.dll.</span>
<span class="sd">	</span>
<span class="sd">	:retrun str infoStr: A string containing information about Sgp4</span>
<span class="sd">	</span>
<span class="sd">	&quot;&quot;&quot;</span>
	<span class="n">infoStr</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">c_char_p</span><span class="p">(</span><span class="nb">bytes</span><span class="p">(</span><span class="mi">128</span><span class="p">))</span>
	<span class="n">C_SGP4DLL</span><span class="o">.</span><span class="n">Sgp4GetInfo</span><span class="p">(</span><span class="n">infoStr</span><span class="p">)</span>
	<span class="n">infoStr</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">byte_to_str</span><span class="p">(</span><span class="n">infoStr</span><span class="p">)</span>
	<span class="k">return</span> <span class="n">infoStr</span></div>

<span class="c1">##Sgp4GetLicFilePath</span>
<span class="n">C_SGP4DLL</span><span class="o">.</span><span class="n">Sgp4GetLicFilePath</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">[</span><span class="n">c</span><span class="o">.</span><span class="n">c_char_p</span><span class="p">]</span>

<div class="viewcode-block" id="Sgp4GetLicFilePath"><a class="viewcode-back" href="../../../dshsaa.raw.html#dshsaa.raw.sgp4dll.Sgp4GetLicFilePath">[docs]</a><span class="k">def</span> <span class="nf">Sgp4GetLicFilePath</span><span class="p">():</span>
	<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">	:python:function::Sgp4GetLicFilePath</span>
<span class="sd">	Returns the current path to the Sgp4 Open License File</span>
<span class="sd">	:return str LicFilePath: The path to the current license file</span>
<span class="sd">	&quot;&quot;&quot;</span>
	<span class="n">licFilePath</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">c_char_p</span><span class="p">(</span><span class="nb">bytes</span><span class="p">(</span><span class="mi">512</span><span class="p">))</span>
	<span class="n">C_SGP4DLL</span><span class="o">.</span><span class="n">Sgp4GetLicFilePath</span><span class="p">(</span><span class="n">licFilePath</span><span class="p">)</span>
	<span class="n">licFilePath</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">byte_to_str</span><span class="p">(</span><span class="n">licFilePath</span><span class="p">)</span>
	<span class="k">return</span> <span class="n">licFilePath</span></div>

<span class="c1">##Sgp4GetPropOut</span>
<span class="n">C_SGP4DLL</span><span class="o">.</span><span class="n">Sgp4GetPropOut</span><span class="o">.</span><span class="n">restype</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">c_int</span>
<span class="c1"># argument types defined within the function</span>
<div class="viewcode-block" id="Sgp4GetPropOut"><a class="viewcode-back" href="../../../dshsaa.raw.html#dshsaa.raw.sgp4dll.Sgp4GetPropOut">[docs]</a><span class="k">def</span> <span class="nf">Sgp4GetPropOut</span><span class="p">(</span><span class="n">satKey</span><span class="p">,</span> <span class="n">xf_Sgp4Out</span><span class="p">):</span>
	<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">	.. python:function::Sgp4GetPropOut</span>
<span class="sd">	</span>
<span class="sd">	Retrieves propagator&#39;s precomputed results. This function can be used to obtain results from a propagation which are not made available through calls to the propagation functions themselves. </span>
<span class="sd">	</span>
<span class="sd">	This function should be called immediately after a successful call to Sgp4PropMse() or Sgp4PropDs50UTC() to retrieve the desired values. </span>

<span class="sd">	It is the caller&#39;s responsibility to ensure that the array passed in the destArray parameter is large enough to hold the requested values. The required size can be found by looking at the destArray size column of the table below describing valid index values. </span>

<span class="sd">	The destArray Arrangement column lists the order of the elements in the array. It is not necessarily the subscript of the element in the array since this is language-dependent. For example, in C/C++ the first element in every array is the zero-subscripted element. In other programming languages, the subscript of the first element is 1. </span>

<span class="sd">	Note: This function is not thread safe, please use Sgp4PropAll() instead </span>

<span class="sd">	The table below shows the values for the xf_Sgp4Out parameter:</span>
<span class="sd">	</span>
<span class="sd">	+-------+-------------------------------+----------------+-------------------------------------------------------------------+</span>
<span class="sd">	| Index | Index Interpretation          | destArray size | destArray Arrangement                                             |</span>
<span class="sd">	+-------+-------------------------------+----------------+-------------------------------------------------------------------+</span>
<span class="sd">	| 1     | Revolution number             | 1              | 1. Revolution number (based on the Osculating Keplerian Elements) |</span>
<span class="sd">	+-------+-------------------------------+----------------+-------------------------------------------------------------------+</span>
<span class="sd">	| 2     | Nodal Apogee Perigee          | 3              |                                                                   |</span>
<span class="sd">	|       |                               |                | 1. nodal period (minutes)                                         |</span>
<span class="sd">	|       |                               |                | 2. apogee (km)                                                    |</span>
<span class="sd">	|       |                               |                | 3. perigee (km)                                                   |</span>
<span class="sd">	+-------+-------------------------------+----------------+-------------------------------------------------------------------+</span>
<span class="sd">	| 3     | Mean Keplerian Elements       | 6              | 1. semi-major axis (km)                                           |</span>
<span class="sd">	|       |                               |                | 2. eccentricity (unitless)                                        |</span>
<span class="sd">	|       |                               |                | 3. inclination (degree)                                           |</span>
<span class="sd">	|       |                               |                | 4. mean anomaly (degree)                                          |</span>
<span class="sd">	|       |                               |                | 5. right ascension of the ascending node (degree)                 |</span>
<span class="sd">	|       |                               |                | 6. argument of perigee (degree)                                   |</span>
<span class="sd">	+-------+-------------------------------+----------------+-------------------------------------------------------------------+</span>
<span class="sd">	| 4     | Osculating Keplerian Elements | 6              | Same as Mean Keplerian Elements                                   |</span>
<span class="sd">	+-------+-------------------------------+----------------+-------------------------------------------------------------------+</span>

<span class="sd">	:param settings.stay_int64 satKey: The unique key of the satellite for which to retrieve results.</span>
<span class="sd">	:param xf_SgpOut: Specifies which propagator outputs to retrieve. See table above.</span>
<span class="sd">	:return int retcode: 0 if the requested information is retrieved successfully, non-0 if there is an error.</span>
<span class="sd">	:return list[?] destArr: a list of 1 to 6 elements pulled from the propogator. See table above.</span>
<span class="sd">	&quot;&quot;&quot;</span>
	
	<span class="c1"># test satKey</span>
	<span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">satKey</span><span class="p">,</span> <span class="n">settings</span><span class="o">.</span><span class="n">stay_int64</span><span class="p">):</span>
		<span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;satKey is type </span><span class="si">%s</span><span class="s2">, should be type </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">satKey</span><span class="p">),</span> <span class="n">settings</span><span class="o">.</span><span class="n">stay_int64</span><span class="p">))</span>
	
	<span class="c1"># test xf_Sgp4Out</span>
	<span class="k">if</span> <span class="ow">not</span><span class="p">(</span><span class="n">xf_Sgp4Out</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]):</span>
		<span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;xf_Sgp4Out is </span><span class="si">%i</span><span class="s2">, should be 1, 2, 3, or 4. See table in docs.&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">xf_Sgp4Out</span><span class="p">))</span>
	
	<span class="c1"># determine length of destArr by means of xf_Sgp4Out and initialize a double array of that length</span>
	<span class="n">xf_Sgp4Out_type_dict</span> <span class="o">=</span> <span class="p">{</span> <span class="mi">1</span><span class="p">:</span><span class="n">settings</span><span class="o">.</span><span class="n">double1</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span><span class="n">settings</span><span class="o">.</span><span class="n">double3</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span><span class="n">settings</span><span class="o">.</span><span class="n">double6</span><span class="p">,</span> <span class="mi">4</span><span class="p">:</span><span class="n">settings</span><span class="o">.</span><span class="n">double6</span> <span class="p">}</span>
	<span class="n">destArr</span> <span class="o">=</span> <span class="n">xf_Sgp4Out_type_dict</span><span class="p">[</span><span class="n">xf_Sgp4Out</span><span class="p">]()</span>
	
	<span class="c1"># set the argtype for Sgp4GetPropOut</span>
	<span class="n">C_SGP4DLL</span><span class="o">.</span><span class="n">Sgp4GetPropOut</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">[</span><span class="n">settings</span><span class="o">.</span><span class="n">stay_int64</span><span class="p">,</span> <span class="n">c</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span> <span class="n">xf_Sgp4Out_type_dict</span><span class="p">[</span><span class="n">xf_Sgp4Out</span><span class="p">]]</span>
	
	<span class="c1"># call Sgp4GetPropOut</span>
	<span class="n">retcode</span> <span class="o">=</span> <span class="n">C_SGP4DLL</span><span class="o">.</span><span class="n">Sgp4GetPropOut</span><span class="p">(</span><span class="n">satKey</span><span class="p">,</span> <span class="n">xf_Sgp4Out</span><span class="p">,</span> <span class="n">destArr</span><span class="p">)</span>
	
	<span class="c1"># convert destArr to a list</span>
	<span class="n">destArr</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">array_to_list</span><span class="p">(</span><span class="n">destArr</span><span class="p">)</span>
	
	<span class="c1"># return values</span>
	<span class="k">return</span> <span class="p">(</span><span class="n">retcode</span><span class="p">,</span> <span class="n">destArr</span><span class="p">)</span></div>


<span class="c1">##Sgp4Init</span>
<span class="n">C_SGP4DLL</span><span class="o">.</span><span class="n">Sgp4Init</span><span class="o">.</span><span class="n">restype</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">c_int</span>
<span class="n">C_SGP4DLL</span><span class="o">.</span><span class="n">Sgp4Init</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">[</span><span class="n">settings</span><span class="o">.</span><span class="n">stay_int64</span><span class="p">]</span>

<div class="viewcode-block" id="Sgp4Init"><a class="viewcode-back" href="../../../dshsaa.raw.html#dshsaa.raw.sgp4dll.Sgp4Init">[docs]</a><span class="k">def</span> <span class="nf">Sgp4Init</span><span class="p">(</span><span class="n">apPtr</span><span class="p">):</span>
	<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">	python:function::Sgp4Init</span>
<span class="sd">	Initializes the Sgp4 DLL for use in the program. </span>
<span class="sd">	:param settings.stay_int64 apPtr: The handle that was returned from DllMainInit(). See the documentation for DllMain.dll for details.</span>
<span class="sd">	:return int retcode: 0 if Sgp4Prop.dll is initialized successfully, non-0 if there is an error.</span>
<span class="sd">	&quot;&quot;&quot;</span>
	<span class="n">retcode</span> <span class="o">=</span> <span class="n">C_SGP4DLL</span><span class="o">.</span><span class="n">Sgp4Init</span><span class="p">(</span><span class="n">apPtr</span><span class="p">)</span>
	<span class="k">return</span> <span class="n">retcode</span></div>

<span class="c1">##Sgp4InitSat</span>
<span class="n">C_SGP4DLL</span><span class="o">.</span><span class="n">Sgp4InitSat</span><span class="o">.</span><span class="n">restype</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">c_int</span>
<span class="n">C_SGP4DLL</span><span class="o">.</span><span class="n">Sgp4InitSat</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">[</span><span class="n">settings</span><span class="o">.</span><span class="n">stay_int64</span><span class="p">]</span>

<div class="viewcode-block" id="Sgp4InitSat"><a class="viewcode-back" href="../../../dshsaa.raw.html#dshsaa.raw.sgp4dll.Sgp4InitSat">[docs]</a><span class="k">def</span> <span class="nf">Sgp4InitSat</span><span class="p">(</span><span class="n">satKey</span><span class="p">):</span>
	<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">	python:function::Sgp4InitSat</span>
<span class="sd">	Initializes an SGP4 satellite from an SGP or SGP4 TLE. </span>
<span class="sd">	Internally, when this function is called, Tle.dll&#39;s set of TLEs is searched for the provided satKey. If found, the associated TLE data will be used to create an SGP4 satellite which then will be added to Sgp4Prop.dll&#39;s set of satellites. Subsequent calls to propagate this satellite will use the data in this set to compute the satellite&#39;s new state. </span>
<span class="sd">	This routine should be called once for each satellite you wish to propagate before propagation begins, or any time the associated data that is stored by Tle.dll is changed. </span>
<span class="sd">	The call to this routine needs to be placed before any calls to the SGP4 propagator routines (Sgp4PropMse(), Sgp4PropDs50UTC(), etc.).</span>
<span class="sd">	:param settings.stay_int64 satKey: The satellite&#39;s unique key. This key will have been returned by one of the routines in Tle.dll.</span>
<span class="sd">	:return int retcode: 0 if the satellite is successfully initialized and added to Sgp4Prop.dll&#39;s set of satellites, non-0 if there is an error.</span>
<span class="sd">	&quot;&quot;&quot;</span>
	<span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">satKey</span><span class="p">,</span> <span class="n">settings</span><span class="o">.</span><span class="n">stay_int64</span><span class="p">):</span>
		<span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;satKey is type </span><span class="si">%s</span><span class="s2">, should be type </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">satKey</span><span class="p">),</span> <span class="n">settings</span><span class="o">.</span><span class="n">stay_int64</span><span class="p">))</span>
	<span class="n">retcode</span> <span class="o">=</span> <span class="n">C_SGP4DLL</span><span class="o">.</span><span class="n">Sgp4InitSat</span><span class="p">(</span><span class="n">satKey</span><span class="p">)</span>
	<span class="k">return</span> <span class="n">retcode</span></div>

<span class="c1">##Sgp4PosVelToKep</span>
<span class="n">C_SGP4DLL</span><span class="o">.</span><span class="n">Sgp4PosVelToKep</span><span class="o">.</span><span class="n">restype</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">c_int</span>
<span class="n">C_SGP4DLL</span><span class="o">.</span><span class="n">Sgp4PosVelToKep</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">[</span><span class="n">c</span><span class="o">.</span><span class="n">c_int32</span><span class="p">,</span>
									  <span class="n">c</span><span class="o">.</span><span class="n">c_double</span><span class="p">,</span>
									  <span class="n">settings</span><span class="o">.</span><span class="n">double3</span><span class="p">,</span>
									  <span class="n">settings</span><span class="o">.</span><span class="n">double3</span><span class="p">,</span>
									  <span class="n">settings</span><span class="o">.</span><span class="n">double3</span><span class="p">,</span>
									  <span class="n">settings</span><span class="o">.</span><span class="n">double3</span><span class="p">,</span>
									  <span class="n">settings</span><span class="o">.</span><span class="n">double6</span><span class="p">]</span>

<div class="viewcode-block" id="Sgp4PosVelToKep"><a class="viewcode-back" href="../../../dshsaa.raw.html#dshsaa.raw.sgp4dll.Sgp4PosVelToKep">[docs]</a><span class="k">def</span> <span class="nf">Sgp4PosVelToKep</span><span class="p">(</span><span class="n">yr</span><span class="p">,</span> <span class="n">day</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">vel</span><span class="p">):</span>
	<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">	python:function::Sgp4PosVelToKep</span>
<span class="sd">	Converts osculating position and velocity vectors to a set of mean Keplerian SGP4 elements.</span>
<span class="sd">	The new position and velocity vectors are the results of using SGP4 propagator to propagate the computed sgp4MeanKep to the time specified in year and day of epoch time. They should be closely matched with the input osculating position and velocity vectors. </span>
<span class="sd">	The mean Keplerian elements are SGP4&#39;s Brouwer mean motion not SGP&#39;s Kozai mean motion. </span>
<span class="sd">	:param int yr: 2 or 4 digit year of the epoch time</span>
<span class="sd">	:param float day: Day of year of the epoch time.</span>
<span class="sd">	:param float[3] pos: Input osculating position vector (km). (double[3])</span>
<span class="sd">	:param float[3] vel: Input osculating velocity vector (km/s). (double[3])</span>
<span class="sd">	:return int retcode: 0 if the conversion is successful, non-0 if there is an error.</span>
<span class="sd">	:return float[3] posNew: Resulting position vector (km) propagated from the sgp4MeanKep. (double[3])</span>
<span class="sd">	:return float[3] velNew: Resulting velocity vector (km/s) propagated from the sgp4MeanKep. (double[3])</span>
<span class="sd">	:return float[6] sgp4MeanKep: Resulting set of Sgp4 mean Keplerian elements. (double[6])</span>
<span class="sd">	&quot;&quot;&quot;</span>
	<span class="n">yr</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">c_int32</span><span class="p">(</span><span class="n">yr</span><span class="p">)</span>
	<span class="n">day</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">c_double</span><span class="p">(</span><span class="n">day</span><span class="p">)</span>
	<span class="n">pos</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">list_to_array</span><span class="p">(</span><span class="n">pos</span><span class="p">)</span>
	<span class="n">vel</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">list_to_array</span><span class="p">(</span><span class="n">vel</span><span class="p">)</span>
	<span class="n">posNew</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">double3</span><span class="p">()</span>
	<span class="n">velNew</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">double3</span><span class="p">()</span>
	<span class="n">sgp4MeanKep</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">double6</span><span class="p">()</span>
	<span class="n">retcode</span> <span class="o">=</span> <span class="n">C_SGP4DLL</span><span class="o">.</span><span class="n">Sgp4PosVelToKep</span><span class="p">(</span><span class="n">yr</span><span class="p">,</span> <span class="n">day</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">vel</span><span class="p">,</span> <span class="n">posNew</span><span class="p">,</span> <span class="n">velNew</span><span class="p">,</span> <span class="n">sgp4MeanKep</span><span class="p">)</span>
	<span class="n">posNew</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">array_to_list</span><span class="p">(</span><span class="n">posNew</span><span class="p">)</span>
	<span class="n">velNew</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">array_to_list</span><span class="p">(</span><span class="n">velNew</span><span class="p">)</span>
	<span class="k">return</span> <span class="p">(</span><span class="n">retcode</span><span class="p">,</span> <span class="n">posNew</span><span class="p">,</span> <span class="n">velNew</span><span class="p">,</span> <span class="n">sgp4MeanKep</span><span class="p">)</span></div>

<span class="c1">##Sgp4PropAll</span>
<span class="n">C_SGP4DLL</span><span class="o">.</span><span class="n">Sgp4PropAll</span><span class="o">.</span><span class="n">restype</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">c_int</span>
<span class="n">C_SGP4DLL</span><span class="o">.</span><span class="n">Sgp4PropAll</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">[</span><span class="n">settings</span><span class="o">.</span><span class="n">stay_int64</span><span class="p">,</span>
								  <span class="n">c</span><span class="o">.</span><span class="n">c_int32</span><span class="p">,</span>
								  <span class="n">c</span><span class="o">.</span><span class="n">c_double</span><span class="p">,</span>
								  <span class="n">settings</span><span class="o">.</span><span class="n">double64</span><span class="p">]</span>

<div class="viewcode-block" id="Sgp4PropAll"><a class="viewcode-back" href="../../../dshsaa.raw.html#dshsaa.raw.sgp4dll.Sgp4PropAll">[docs]</a><span class="k">def</span> <span class="nf">Sgp4PropAll</span><span class="p">(</span><span class="n">satKey</span><span class="p">,</span> <span class="n">timeType</span><span class="p">,</span> <span class="n">timeIn</span><span class="p">):</span>
	<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">	python:function::Sgp4PropAll</span>
<span class="sd">	Propagates a satellite, represented by the satKey, to the time expressed in either minutes since epoch or days since 1950, UTC. All propagation data is returned by this function. </span>
<span class="sd">	:param settings.stay_int64 satKey: The unique key of the satellite to propagate.</span>
<span class="sd">	:param int timeType: The propagation time type: 0 = minutes since epoch, 1 = days since 1950, UTC</span>
<span class="sd">	:param float timeIn: The time to propagate to, expressed in either minutes since epoch or days since 1950, UTC.</span>
<span class="sd">	:return int retcode: 0 if the propagation is successful, non-0 if there is an error.</span>
<span class="sd">	:return float[64] xa_Sgp4Out: The array that stores all Sgp4 propagation data, see XA_SGP4OUT_? for array arrangement (double[64]) TODO: Figure this out and document</span>
<span class="sd">	&quot;&quot;&quot;</span>
	<span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">satKey</span><span class="p">,</span> <span class="n">settings</span><span class="o">.</span><span class="n">stay_int64</span><span class="p">):</span>
		<span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;satKey is type </span><span class="si">%s</span><span class="s2">, should be type </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">satKey</span><span class="p">),</span> <span class="n">settings</span><span class="o">.</span><span class="n">stay_int64</span><span class="p">))</span>
	<span class="n">timeType</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">c_int32</span><span class="p">(</span><span class="n">timeType</span><span class="p">)</span>
	<span class="n">timeIn</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">c_double</span><span class="p">(</span><span class="n">timeIn</span><span class="p">)</span>
	<span class="n">xa_Sgp4Out</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">double64</span><span class="p">()</span>
	<span class="n">retcode</span> <span class="o">=</span> <span class="n">C_SGP4DLL</span><span class="o">.</span><span class="n">Sgp4PropAll</span><span class="p">(</span><span class="n">satKey</span><span class="p">,</span> <span class="n">timeType</span><span class="p">,</span> <span class="n">timeIn</span><span class="p">,</span> <span class="n">xa_Sgp4Out</span><span class="p">)</span>
	<span class="n">xa_Sgp4Out</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">array_to_list</span><span class="p">(</span><span class="n">xa_Sgp4Out</span><span class="p">)</span>
	<span class="k">return</span> <span class="p">(</span><span class="n">retcode</span><span class="p">,</span> <span class="n">xa_Sgp4Out</span><span class="p">)</span></div>

<span class="c1">##Sgp4PropDs50UTC</span>
<span class="n">C_SGP4DLL</span><span class="o">.</span><span class="n">Sgp4PropDs50UTC</span><span class="o">.</span><span class="n">restype</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">c_int</span>
<span class="n">C_SGP4DLL</span><span class="o">.</span><span class="n">Sgp4PropDs50UTC</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">[</span><span class="n">settings</span><span class="o">.</span><span class="n">stay_int64</span><span class="p">,</span>
									  <span class="n">c</span><span class="o">.</span><span class="n">c_double</span><span class="p">,</span>
									  <span class="n">c</span><span class="o">.</span><span class="n">POINTER</span><span class="p">(</span><span class="n">c</span><span class="o">.</span><span class="n">c_double</span><span class="p">),</span>
									  <span class="n">settings</span><span class="o">.</span><span class="n">double3</span><span class="p">,</span>
									  <span class="n">settings</span><span class="o">.</span><span class="n">double3</span><span class="p">,</span>
									  <span class="n">settings</span><span class="o">.</span><span class="n">double3</span><span class="p">]</span>

<div class="viewcode-block" id="Sgp4PropDs50UTC"><a class="viewcode-back" href="../../../dshsaa.raw.html#dshsaa.raw.sgp4dll.Sgp4PropDs50UTC">[docs]</a><span class="k">def</span> <span class="nf">Sgp4PropDs50UTC</span><span class="p">(</span><span class="n">satKey</span><span class="p">,</span> <span class="n">ds50UTC</span><span class="p">):</span>
	<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">	python:function::Sgp4PropDs50UTC</span>
<span class="sd">	Propagates a satellite, represented by the satKey, to the time expressed in days since 1950, UTC. The resulting data about the satellite is placed in the various reference parameters.</span>
<span class="sd">	It is the users&#39; responsibility to decide what to do with the returned value. For example, if the users want to check for decay or low altitude, they can put that logic into their own code. </span>
<span class="sd">	The following cases will result in an error: </span>
<span class="sd">	- Semi major axis A &lt;= 0 or A &gt;1.0D6</span>
<span class="sd">	- Eccentricity E &gt;= 1.0 or E &lt; -1.0D-3</span>
<span class="sd">	- Mean anomaly MA&gt;=1.0D10</span>
<span class="sd">	- Hyperbolic orbit E2&gt;= 1.0</span>
<span class="sd">	- satKey doesn&#39;t exist in the set of loaded satellites</span>
<span class="sd">	- GEO model not set to WGS-72 and/or FK model not set to FK5</span>
<span class="sd">	:param settings.stay_int64 satKey: The unique key of the satellite to propagate.</span>
<span class="sd">	:param float ds50UTC: The time to propagate to, expressed in days since 1950, UTC.</span>
<span class="sd">	:return int retcode: 0 if the propagation is successful, non-0 if there is an error.</span>
<span class="sd">	:return float mse: Resulting time in minutes since the satellite&#39;s epoch time.</span>
<span class="sd">	:return float[3] pos: Resulting ECI position vector (km) in True Equator and Mean Equinox of Epoch. (double[3])</span>
<span class="sd">	:return float[3] vel: Resulting ECI velocity vector (km/s) in True Equator and Mean Equinox of Epoch. (double[3])</span>
<span class="sd">	:return float[3] llh: Resulting geodetic latitude (deg), longitude(deg), and height (km). (double[3])</span>
<span class="sd">	&quot;&quot;&quot;</span>
	<span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">satKey</span><span class="p">,</span> <span class="n">settings</span><span class="o">.</span><span class="n">stay_int64</span><span class="p">):</span>
		<span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;satKey is type </span><span class="si">%s</span><span class="s2">, should be type </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">satKey</span><span class="p">),</span> <span class="n">settings</span><span class="o">.</span><span class="n">stay_int64</span><span class="p">))</span>
	<span class="n">ds50UTC</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">c_double</span><span class="p">(</span><span class="n">ds50UTC</span><span class="p">)</span>
	<span class="n">mse</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">c_double</span><span class="p">()</span>
	<span class="n">pos</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">double3</span><span class="p">()</span>
	<span class="n">vel</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">double3</span><span class="p">()</span>
	<span class="n">llh</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">double3</span><span class="p">()</span>
	<span class="n">retcode</span> <span class="o">=</span> <span class="n">C_SGP4DLL</span><span class="o">.</span><span class="n">Sgp4PropDs50UTC</span><span class="p">(</span><span class="n">satKey</span><span class="p">,</span> <span class="n">ds50UTC</span><span class="p">,</span> <span class="n">c</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">mse</span><span class="p">),</span> <span class="n">pos</span><span class="p">,</span> <span class="n">vel</span><span class="p">,</span> <span class="n">llh</span><span class="p">)</span>
	<span class="n">mse</span> <span class="o">=</span> <span class="n">mse</span><span class="o">.</span><span class="n">value</span>
	<span class="n">pos</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">array_to_list</span><span class="p">(</span><span class="n">pos</span><span class="p">)</span>
	<span class="n">vel</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">array_to_list</span><span class="p">(</span><span class="n">vel</span><span class="p">)</span>
	<span class="n">llh</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">array_to_list</span><span class="p">(</span><span class="n">llh</span><span class="p">)</span>
	<span class="k">return</span> <span class="p">(</span><span class="n">retcode</span><span class="p">,</span> <span class="n">mse</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">vel</span><span class="p">,</span> <span class="n">llh</span><span class="p">)</span></div>
	

<span class="c1">##Sgp4PropDs50UtcLLH</span>
<span class="n">C_SGP4DLL</span><span class="o">.</span><span class="n">Sgp4PropDs50UtcLLH</span><span class="o">.</span><span class="n">restype</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">c_int</span>
<span class="n">C_SGP4DLL</span><span class="o">.</span><span class="n">Sgp4PropDs50UtcLLH</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">[</span><span class="n">settings</span><span class="o">.</span><span class="n">stay_int64</span><span class="p">,</span>
										 <span class="n">c</span><span class="o">.</span><span class="n">c_double</span><span class="p">,</span>
										 <span class="n">settings</span><span class="o">.</span><span class="n">double3</span><span class="p">]</span>

<div class="viewcode-block" id="Sgp4PropDs50UtcLLH"><a class="viewcode-back" href="../../../dshsaa.raw.html#dshsaa.raw.sgp4dll.Sgp4PropDs50UtcLLH">[docs]</a><span class="k">def</span> <span class="nf">Sgp4PropDs50UtcLLH</span><span class="p">(</span><span class="n">satKey</span><span class="p">,</span> <span class="n">ds50UTC</span><span class="p">):</span>
	<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">	python:function::Sgp4PropDs50UtcLLH</span>
<span class="sd">	Propagates a satellite, represented by the satKey, to the time expressed in days since 1950, UTC. Only the geodetic information is returned by this function. </span>
<span class="sd">	It is the users&#39; responsibility to decide what to do with the returned value. For example, if the users want to check for decay or low altitude, they can put that logic into their own code. </span>
<span class="sd">	This function is similar to Sgp4PropDs50UTC but returns only LLH. This function is designed especially for applications which plot ground traces. </span>
<span class="sd">	The following cases will result in an error: </span>
<span class="sd">	Semi major axis A &lt;= 0 or A &gt;1.0D6</span>
<span class="sd">	Eccentricity E &gt;= 1.0 or E &lt; -1.0D-3</span>
<span class="sd">	Mean anomaly MA&gt;=1.0D10</span>
<span class="sd">	Hyperbolic orbit E2&gt;= 1.0</span>
<span class="sd">	satKey doesn&#39;t exist in the set of loaded satellites</span>
<span class="sd">	GEO model not set to WGS-72 and/or FK model not set to FK5</span>
<span class="sd">	:param settings.stay_int64 satKey: The unique key of the satellite to propagate.</span>
<span class="sd">	:param float ds50UTC: The time to propagate to, expressed in days since 1950, UTC.</span>
<span class="sd">	:return int retcode: 0 if the propagation is successful, non-0 if there is an error.</span>
<span class="sd">	:return float[3] llh: Resulting geodetic latitude (deg), longitude(deg), and height (km). (double[3])</span>
<span class="sd">	&quot;&quot;&quot;</span>
	<span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">satKey</span><span class="p">,</span> <span class="n">settings</span><span class="o">.</span><span class="n">stay_int64</span><span class="p">):</span>
		<span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;satKey is type </span><span class="si">%s</span><span class="s2">, should be type </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">satKey</span><span class="p">),</span> <span class="n">settings</span><span class="o">.</span><span class="n">stay_int64</span><span class="p">))</span>
	<span class="n">ds50UTC</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">c_double</span><span class="p">(</span><span class="n">ds50UTC</span><span class="p">)</span>
	<span class="n">llh</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">double3</span><span class="p">()</span>
	<span class="n">retcode</span> <span class="o">=</span> <span class="n">C_SGP4DLL</span><span class="o">.</span><span class="n">Sgp4PropDs50UtcLLH</span><span class="p">(</span><span class="n">satKey</span><span class="p">,</span> <span class="n">ds50UTC</span><span class="p">,</span> <span class="n">llh</span><span class="p">)</span>
	<span class="n">llh</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">array_to_list</span><span class="p">(</span><span class="n">llh</span><span class="p">)</span>
	<span class="k">return</span> <span class="p">(</span><span class="n">retcode</span><span class="p">,</span> <span class="n">llh</span><span class="p">)</span></div>

<span class="c1">##Sgp4PropDs50UtcPos</span>
<span class="n">C_SGP4DLL</span><span class="o">.</span><span class="n">Sgp4PropDs50UtcPos</span><span class="o">.</span><span class="n">restype</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">c_int</span>
<span class="n">C_SGP4DLL</span><span class="o">.</span><span class="n">Sgp4PropDs50UtcPos</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">[</span><span class="n">settings</span><span class="o">.</span><span class="n">stay_int64</span><span class="p">,</span>
										 <span class="n">c</span><span class="o">.</span><span class="n">c_double</span><span class="p">,</span>
										 <span class="n">settings</span><span class="o">.</span><span class="n">double3</span><span class="p">]</span>

<div class="viewcode-block" id="Sgp4PropDs50UtcPos"><a class="viewcode-back" href="../../../dshsaa.raw.html#dshsaa.raw.sgp4dll.Sgp4PropDs50UtcPos">[docs]</a><span class="k">def</span> <span class="nf">Sgp4PropDs50UtcPos</span><span class="p">(</span><span class="n">satKey</span><span class="p">,</span> <span class="n">ds50UTC</span><span class="p">):</span>
	<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">	python:function::Sgp4PropDs50UtcPos</span>
<span class="sd">	Propagates a satellite, represented by the satKey, to the time expressed in days since 1950, UTC. Only the ECI position vector is returned by this function. </span>
<span class="sd">	It is the users&#39; responsibility to decide what to do with the returned value. For example, if the users want to check for decay or low altitude, they can put that logic into their own code. </span>
<span class="sd">	This function is similar to Sgp4PropDs50UTC but returns only ECI position vector. This function is designed especially for applications which plot satellite position in 3D. </span>
<span class="sd">	The following cases will result in an error: </span>
<span class="sd">	* Semi major axis A &lt;= 0 or A &gt;1.0D6</span>
<span class="sd">	* Eccentricity E &gt;= 1.0 or E &lt; -1.0D-3</span>
<span class="sd">	* Mean anomaly MA&gt;=1.0D10</span>
<span class="sd">	* Hyperbolic orbit E2&gt;= 1.0</span>
<span class="sd">	* satKey doesn&#39;t exist in the set of loaded satellites</span>
<span class="sd">	* GEO model not set to WGS-72 and/or FK model not set to FK5</span>
<span class="sd">	:param settings.stay_int64 satKey: </span>
<span class="sd">	:param float ds50UTC: The unique key of the satellite to propagate.</span>
<span class="sd">	:return int retcode: Resulting ECI position vector (km) in True Equator and Mean Equinox of Epoch. (double[3])</span>
<span class="sd">	:return float[3] pos: The time to propagate to, expressed in days since 1950, UTC.</span>
<span class="sd">	&quot;&quot;&quot;</span>
	<span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">satKey</span><span class="p">,</span> <span class="n">settings</span><span class="o">.</span><span class="n">stay_int64</span><span class="p">):</span>
		<span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;satKey is type </span><span class="si">%s</span><span class="s2">, should be type </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">satKey</span><span class="p">),</span> <span class="n">settings</span><span class="o">.</span><span class="n">stay_int64</span><span class="p">))</span>
	<span class="n">ds50UTC</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">c_double</span><span class="p">(</span><span class="n">ds50UTC</span><span class="p">)</span>
	<span class="n">pos</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">double3</span><span class="p">()</span>
	<span class="n">retcode</span> <span class="o">=</span> <span class="n">C_SGP4DLL</span><span class="o">.</span><span class="n">Sgp4PropDs50UtcPos</span><span class="p">(</span><span class="n">satKey</span><span class="p">,</span> <span class="n">ds50UTC</span><span class="p">,</span> <span class="n">pos</span><span class="p">)</span>
	<span class="n">pos</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">array_to_list</span><span class="p">(</span><span class="n">pos</span><span class="p">)</span>
	<span class="k">return</span> <span class="p">(</span><span class="n">retcode</span><span class="p">,</span> <span class="n">pos</span><span class="p">)</span></div>
	
	
<span class="c1">##Sgp4PropMse </span>
<span class="n">C_SGP4DLL</span><span class="o">.</span><span class="n">Sgp4PropMse</span><span class="o">.</span><span class="n">restype</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">c_int</span>
<span class="n">C_SGP4DLL</span><span class="o">.</span><span class="n">Sgp4PropMse</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">[</span><span class="n">settings</span><span class="o">.</span><span class="n">stay_int64</span><span class="p">,</span>
								  <span class="n">c</span><span class="o">.</span><span class="n">c_double</span><span class="p">,</span>
								  <span class="n">c</span><span class="o">.</span><span class="n">POINTER</span><span class="p">(</span><span class="n">c</span><span class="o">.</span><span class="n">c_double</span><span class="p">),</span>
								  <span class="n">settings</span><span class="o">.</span><span class="n">double3</span><span class="p">,</span>
								  <span class="n">settings</span><span class="o">.</span><span class="n">double3</span><span class="p">,</span>
								  <span class="n">settings</span><span class="o">.</span><span class="n">double3</span><span class="p">]</span>

<div class="viewcode-block" id="Sgp4PropMse"><a class="viewcode-back" href="../../../dshsaa.raw.html#dshsaa.raw.sgp4dll.Sgp4PropMse">[docs]</a><span class="k">def</span> <span class="nf">Sgp4PropMse</span><span class="p">(</span><span class="n">satKey</span><span class="p">,</span> <span class="n">mse</span><span class="p">):</span>
	<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">	python:function::Sgp4PropMse</span>
<span class="sd">	Propagates a satellite, represented by the satKey, to the time expressed in minutes since the satellite&#39;s epoch time. The resulting data about the satellite is placed in the various reference parameters. </span>
<span class="sd">	</span>
<span class="sd">	It is the users&#39; responsibility to decide what to do with the returned value. For example, if the users want to check for decay or low altitude, they can put that logic into their own code. </span>
<span class="sd">	This function can be called in random time requests. </span>
<span class="sd">	The following cases will result in an error: </span>
<span class="sd">	1. Semi major axis A &lt;= 0 or A &gt;1.0D6</span>
<span class="sd">	2. Eccentricity E &gt;= 1.0 or E &lt; -1.0D-3</span>
<span class="sd">	3. Mean anomaly MA&gt;=1.0D10</span>
<span class="sd">	4. Hyperbolic orbit E2&gt;= 1.0</span>
<span class="sd">	5. satKey doesn&#39;t exist in the set of loaded satellites</span>
<span class="sd">	6. GEO model not set to WGS-72 and/or FK model not set to FK5</span>
<span class="sd">	</span>
<span class="sd">	:param settings.stay_int64 satKey: The satellite&#39;s unique key.</span>
<span class="sd">	:param float mse: The time to propagate to, specified in minutes since the satellite&#39;s epoch time.</span>
<span class="sd">	:return int retcode: 0 if the propagation is successful, non-0 if there is an error.</span>
<span class="sd">	:return float ds50UTC: Resulting time in days since 1950, UTC.</span>
<span class="sd">	:return float[3] pos: Resulting ECI position vector (km) in True Equator and Mean Equinox of Epoch. (double[3])</span>
<span class="sd">	:return float[3] vel: Resulting ECI velocity vector (km/s) in True Equator and Mean Equinox of Epoch. (double[3])</span>
<span class="sd">	:return float[3] llh: Resulting geodetic latitude (deg), longitude(deg), and height (km). (double[3])</span>
<span class="sd">	&quot;&quot;&quot;</span>
	<span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">satKey</span><span class="p">,</span> <span class="n">settings</span><span class="o">.</span><span class="n">stay_int64</span><span class="p">):</span>
		<span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;satKey is type </span><span class="si">%s</span><span class="s2">, should be type </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">satKey</span><span class="p">),</span> <span class="n">settings</span><span class="o">.</span><span class="n">stay_int64</span><span class="p">))</span>
	<span class="n">mse</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">c_double</span><span class="p">(</span><span class="n">mse</span><span class="p">)</span>
	<span class="n">ds50UTC</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">c_double</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
	<span class="n">pos</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">double3</span><span class="p">()</span>
	<span class="n">vel</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">double3</span><span class="p">()</span>
	<span class="n">llh</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">double3</span><span class="p">()</span>
	<span class="n">retcode</span> <span class="o">=</span> <span class="n">C_SGP4DLL</span><span class="o">.</span><span class="n">Sgp4PropMse</span><span class="p">(</span><span class="n">satKey</span><span class="p">,</span> <span class="n">mse</span><span class="p">,</span> <span class="n">c</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">ds50UTC</span><span class="p">),</span> <span class="n">pos</span><span class="p">,</span> <span class="n">vel</span><span class="p">,</span> <span class="n">llh</span><span class="p">)</span>
	<span class="n">ds50UTC</span> <span class="o">=</span> <span class="n">ds50UTC</span><span class="o">.</span><span class="n">value</span>
	<span class="n">pos</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">array_to_list</span><span class="p">(</span><span class="n">pos</span><span class="p">)</span>
	<span class="n">vel</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">array_to_list</span><span class="p">(</span><span class="n">vel</span><span class="p">)</span>
	<span class="n">llh</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">array_to_list</span><span class="p">(</span><span class="n">llh</span><span class="p">)</span>
	<span class="k">return</span> <span class="p">(</span><span class="n">retcode</span><span class="p">,</span> <span class="n">ds50UTC</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">vel</span><span class="p">,</span> <span class="n">llh</span><span class="p">)</span></div>
	
<span class="c1">##Sgp4ReepochTLE</span>
<span class="n">C_SGP4DLL</span><span class="o">.</span><span class="n">Sgp4ReepochTLE</span><span class="o">.</span><span class="n">restype</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">c_int</span>
<span class="n">C_SGP4DLL</span><span class="o">.</span><span class="n">Sgp4ReepochTLE</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">[</span><span class="n">settings</span><span class="o">.</span><span class="n">stay_int64</span><span class="p">,</span>
									 <span class="n">c</span><span class="o">.</span><span class="n">c_double</span><span class="p">,</span>
									 <span class="n">c</span><span class="o">.</span><span class="n">c_char_p</span><span class="p">,</span>
									 <span class="n">c</span><span class="o">.</span><span class="n">c_char_p</span><span class="p">]</span>

<div class="viewcode-block" id="Sgp4ReepochTLE"><a class="viewcode-back" href="../../../dshsaa.raw.html#dshsaa.raw.sgp4dll.Sgp4ReepochTLE">[docs]</a><span class="k">def</span> <span class="nf">Sgp4ReepochTLE</span><span class="p">(</span><span class="n">satKey</span><span class="p">,</span> <span class="n">reepochDs50UTC</span><span class="p">):</span>
	<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">	python:function::Sgp4ReepochTLE</span>
<span class="sd">	Reepochs a loaded TLE, represented by the satKey, to a new epoch. </span>
<span class="sd">	:param settings.stay_int64 satKey: The unique key of the satellite to reepoch.</span>
<span class="sd">	:param float reepochDs50UTC: The new epoch, express in days since 1950, UTC.</span>
<span class="sd">	:return int retcode: 0 if the reepoch is successful, non-0 if there is an error.</span>
<span class="sd">	:return str line1Out: A string to hold the first line of the reepoched TLE. (byte[512])</span>
<span class="sd">	:return str line2Out: A string to hold the second line of the reepoched TLE. (byte[512])</span>
<span class="sd">	&quot;&quot;&quot;</span>
	<span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">satKey</span><span class="p">,</span> <span class="n">settings</span><span class="o">.</span><span class="n">stay_int64</span><span class="p">):</span>
		<span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;satKey is type </span><span class="si">%s</span><span class="s2">, should be type </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">satKey</span><span class="p">),</span> <span class="n">settings</span><span class="o">.</span><span class="n">stay_int64</span><span class="p">))</span>
	<span class="n">reepochDs50UTC</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">c_double</span><span class="p">(</span><span class="n">reepochDs50UTC</span><span class="p">)</span>
	<span class="n">line1Out</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">c_char_p</span><span class="p">(</span><span class="nb">bytes</span><span class="p">(</span><span class="mi">512</span><span class="p">))</span>
	<span class="n">line2Out</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">c_char_p</span><span class="p">(</span><span class="nb">bytes</span><span class="p">(</span><span class="mi">512</span><span class="p">))</span>
	<span class="n">retcode</span> <span class="o">=</span> <span class="n">C_SGP4DLL</span><span class="o">.</span><span class="n">Sgp4ReepochTLE</span><span class="p">(</span><span class="n">satKey</span><span class="p">,</span> <span class="n">reepochDs50UTC</span><span class="p">,</span> <span class="n">line1Out</span><span class="p">,</span> <span class="n">line2Out</span><span class="p">)</span>
	<span class="n">line1Out</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">byte_to_str</span><span class="p">(</span><span class="n">line1Out</span><span class="p">)</span>
	<span class="n">line2Out</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">byte_to_str</span><span class="p">(</span><span class="n">line2Out</span><span class="p">)</span>
	<span class="k">return</span> <span class="p">(</span><span class="n">retcode</span><span class="p">,</span> <span class="n">line1Out</span><span class="p">,</span> <span class="n">line2Out</span><span class="p">)</span></div>


<span class="c1">##Sgp4RemoveAllSats</span>
<span class="n">C_SGP4DLL</span><span class="o">.</span><span class="n">Sgp4RemoveAllSats</span><span class="o">.</span><span class="n">restype</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">c_int</span>

<div class="viewcode-block" id="Sgp4RemoveAllSats"><a class="viewcode-back" href="../../../dshsaa.raw.html#dshsaa.raw.sgp4dll.Sgp4RemoveAllSats">[docs]</a><span class="k">def</span> <span class="nf">Sgp4RemoveAllSats</span><span class="p">():</span>
	<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">	python:function::Sgp4RemoveAllSats</span>
<span class="sd">	Removes all currently loaded satellites from memory. </span>
<span class="sd">	Calling this function removes all satellites from the set maintained by Sgp4Prop.dll. However, the TLE data loaded by Tle.dll is unaffected by this function. </span>
<span class="sd">	:return int retcode: 0 if all satellites are removed successfully from memory, non-0 if there is an error.</span>
<span class="sd">	&quot;&quot;&quot;</span>
	<span class="n">retcode</span> <span class="o">=</span> <span class="n">C_SGP4DLL</span><span class="o">.</span><span class="n">Sgp4RemoveAllSats</span><span class="p">()</span>
	<span class="k">return</span> <span class="n">retcode</span></div>

<span class="c1">##Sgp4RemoveSat</span>
<span class="n">C_SGP4DLL</span><span class="o">.</span><span class="n">Sgp4RemoveSat</span><span class="o">.</span><span class="n">restype</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">c_int</span>
<span class="n">C_SGP4DLL</span><span class="o">.</span><span class="n">Sgp4RemoveSat</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">[</span><span class="n">settings</span><span class="o">.</span><span class="n">stay_int64</span><span class="p">]</span>

<div class="viewcode-block" id="Sgp4RemoveSat"><a class="viewcode-back" href="../../../dshsaa.raw.html#dshsaa.raw.sgp4dll.Sgp4RemoveSat">[docs]</a><span class="k">def</span> <span class="nf">Sgp4RemoveSat</span><span class="p">(</span><span class="n">satKey</span><span class="p">):</span>
	<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">	python:function::Sgp4RemoveSat</span>
<span class="sd">	Removes a satellite, represented by the satKey, from the set of satellites. </span>
<span class="sd">	If the specified satKey is not currently loaded into the propagator, an error will be indicated. </span>
<span class="sd">	Removing a satellite from the propagator&#39;s set of satellites does not affect the corresponding TLE data loaded by calls to routines in Tle.dll. </span>
<span class="sd">	:param settings.stay_int64 satKey: The satellite&#39;s unique key.</span>
<span class="sd">	:return int retcode: 0 if the satellite is removed successfully, non-0 if there is an error.</span>
<span class="sd">	&quot;&quot;&quot;</span>
	<span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">satKey</span><span class="p">,</span> <span class="n">settings</span><span class="o">.</span><span class="n">stay_int64</span><span class="p">):</span>
		<span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;satKey is type </span><span class="si">%s</span><span class="s2">, should be type </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">satKey</span><span class="p">),</span> <span class="n">settings</span><span class="o">.</span><span class="n">stay_int64</span><span class="p">))</span>
	<span class="n">retcode</span> <span class="o">=</span> <span class="n">C_SGP4DLL</span><span class="o">.</span><span class="n">Sgp4RemoveSat</span><span class="p">(</span><span class="n">satKey</span><span class="p">)</span>
	<span class="k">return</span> <span class="n">retcode</span></div>

<span class="c1">##Sgp4SetLicFilePath</span>
<span class="n">C_SGP4DLL</span><span class="o">.</span><span class="n">Sgp4SetLicFilePath</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">[</span><span class="n">c</span><span class="o">.</span><span class="n">c_char_p</span><span class="p">]</span>

<div class="viewcode-block" id="Sgp4SetLicFilePath"><a class="viewcode-back" href="../../../dshsaa.raw.html#dshsaa.raw.sgp4dll.Sgp4SetLicFilePath">[docs]</a><span class="k">def</span> <span class="nf">Sgp4SetLicFilePath</span><span class="p">(</span><span class="n">licFilePath</span><span class="p">):</span>
	<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">	python:function::Sgp4SetLicFilePath</span>
<span class="sd">	Sets path to the Sgp4 Open License file if the license file is not in the current working folder. </span>
<span class="sd">	Note: Remember to call this function even before calling the Sgp4Init. </span>
<span class="sd">	The licFilePath can contain either an absolute or relative path to the </span>
<span class="sd">	folder containing the license file, but it must include a trailing </span>
<span class="sd">	path separator. I.e. &quot;./license/&quot; not &quot;./license&quot; </span>
<span class="sd">	:param str licFilePath: The path to the folder containing the license file, ending in a &#39;/&#39; and not the name of the file itself</span>
<span class="sd">	&quot;&quot;&quot;</span>
	<span class="n">licFilePath</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">str_to_c_char_p</span><span class="p">(</span><span class="n">licFilePath</span><span class="p">,</span> <span class="n">fixed_width</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">512</span><span class="p">,</span> <span class="n">terminator</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
	<span class="n">C_SGP4DLL</span><span class="o">.</span><span class="n">Sgp4SetLicFilePath</span><span class="p">(</span><span class="n">licFilePath</span><span class="p">)</span></div>
	
</pre></div>

           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019-07-01, David Harding

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>